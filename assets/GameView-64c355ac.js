import{o as a,c as n,a as s,b as q,_ as v,r as i,s as h,E as m,d as p,e as N,S as A,f as r,u as d,g as T,p as $,h as C,i as f,j as V,k as H,l as F,n as P,m as L,V as j,t as x,F as G,q as B,v as K,w as Y}from"./index-1deb94de.js";const W={xmlns:"http://www.w3.org/2000/svg",width:"17",height:"14",fill:"none"},J=s("path",{stroke:"#F2F2E9","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.188",d:"M4.938 8.094 1.374 4.53m0 0L4.938.97M1.374 4.53h10.094a4.156 4.156 0 0 1 0 8.313H4.938"},null,-1),Q=[J];function X(e,t){return a(),n("svg",W,Q)}const ee={render:X},se={xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",fill:"none",viewBox:"0 0 90 89"},te=s("path",{fill:"#F2F2E9",stroke:"#B5B59A","stroke-width":"6.648",d:"m49.028 6.344 36.473 71.998c1.773 3.5-1.315 7.489-5.148 6.648l-33.055-7.25a11.3 11.3 0 0 0-4.842 0L9.4 84.99c-3.833.841-6.921-3.148-5.148-6.648L40.726 6.344c1.723-3.401 6.58-3.401 8.302 0Z"},null,-1),oe=[te];function ae(e,t){return a(),n("svg",se,oe)}const b={render:ae},ce={xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",fill:"none",viewBox:"0 0 702 702"},ne=q('<path fill="url(#a)" d="M702 351.801c0-65.945-53.459-119.404-119.404-119.404l-111.39-112.993C471.206 53.459 417.746 0 351.801 0S232.397 53.459 232.397 119.404L119.404 232.397C53.459 232.397 0 285.856 0 351.801c0 65.946 53.459 119.405 119.404 119.405l112.993 111.39c0 65.945 53.459 119.404 119.404 119.404 65.946 0 119.405-53.459 119.405-119.404l111.39-111.39c65.945 0 119.404-53.46 119.404-119.405Z"></path><path fill="#F2F2E9" stroke="#E5E5DC" stroke-width="6.648" d="m540.752 254.947.977.99h1.39c52.869 0 95.728 42.859 95.728 95.727 0 52.869-42.859 95.728-95.728 95.728h-1.376l-.974.973-92.403 92.404-.974.973v1.377c0 52.869-42.858 95.727-95.727 95.727-52.869 0-95.727-42.858-95.727-95.727v-1.391l-.991-.976-93.733-92.404-.97-.956h-1.363c-52.869 0-95.727-42.859-95.727-95.728 0-52.868 42.858-95.727 95.727-95.727h1.377l.973-.973 93.733-93.733.974-.974v-1.377c0-52.868 42.858-95.727 95.727-95.727 52.869 0 95.727 42.859 95.727 95.727v1.363l.957.971 92.403 93.733Z"></path><defs><radialGradient id="a" cx="0" cy="0" r="1" gradientTransform="rotate(90 0 351) scale(351)" gradientUnits="userSpaceOnUse"><stop stop-color="#FFFFCA"></stop><stop offset="1" stop-color="#FFFFCA" stop-opacity="0"></stop></radialGradient></defs>',3),le=[ne];function _e(e,t){return a(),n("svg",ce,le)}const re={render:_e},de={xmlns:"http://www.w3.org/2000/svg",width:"174",height:"174",fill:"none",viewBox:"0 0 611 611"},ie=s("path",{stroke:"#FFF","stroke-width":"13.31",d:"M603.655 306.166c0-57.499-45.859-104.287-102.997-105.782l-88.709-89.986C410.482 53.234 363.683 7.345 306.166 7.345c-57.509 0-104.302 45.874-105.783 103.025l-90.013 90.013C53.22 201.864 7.345 248.657 7.345 306.166c0 57.517 45.89 104.316 103.053 105.783l89.986 88.709c1.495 57.138 48.283 102.997 105.782 102.997 57.508 0 104.301-45.874 105.782-103.025l88.682-88.682c57.151-1.481 103.025-48.274 103.025-105.782Z"},null,-1),ue=[ie];function pe(e,t){return a(),n("svg",de,ue)}const ve={render:pe};const he=e=>($("data-v-9b03cf64"),e=e(),C(),e),me={key:0,class:"VoteArrow"},we={class:"arrows"},ge={class:"VoteArrow_horz"},fe=he(()=>s("span",{class:"chrono"}," 2s",-1)),ye={__name:"VoteArrows",setup(e){const t=i(!0),o=_=>{p.server.userVote({user_id:N.get(A.USER_ID),direction:_.target.dataset.dir}),l(),_.target.classList.add("active")};h.on(m.VOTE_RESULTS,_=>{_.iso===p.game.currentTeam.iso&&l()});const l=()=>{document.querySelectorAll(".arrow").forEach(_=>{_.classList.remove("active")})};return N.watch(A.FOCUS_PLAYER,_=>t.value=_),(_,c)=>(a(),n("div",null,[t.value?(a(),n("div",me,[r(d(re),{class:"bgSVG"}),r(d(ve),{class:"progress"}),s("div",we,[s("div",{"data-dir":"0",class:"arrow up",onClick:o},[r(d(b))]),s("div",ge,[s("div",{"data-dir":"3",class:"arrow left",onClick:o},[r(d(b))]),fe,s("div",{"data-dir":"1",class:"arrow right",onClick:o},[r(d(b))])]),s("div",{"data-dir":"2",class:"arrow down",onClick:o},[r(d(b))])])])):(a(),n("div",{key:1,class:"FocusBtn",onClick:c[0]||(c[0]=()=>d(p).webgl.camera.focusPlayer=!0)},[T("Aller à la vue du pays "),r(d(ee))]))]))}},xe=v(ye,[["__scopeId","data-v-9b03cf64"]]);const $e={class:"MedalImg"},Ce=["src"],Te={__name:"MedalImg",props:{medal:{type:String,required:!0}},setup(e){const t=e;return(o,l)=>(a(),n("div",$e,[s("img",{src:`/assets/images/medals/${t.medal}.png`,alt:"",srcset:""},null,8,Ce)]))}},k=v(Te,[["__scopeId","data-v-7afe0b99"]]);const Me=s("svg",{class:"compass-pin",width:"30",height:"27",viewBox:"0 0 30 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M12.1274 2.47383C13.2698 0.477535 16.1413 0.456463 17.3129 2.43578L28.8082 21.8567C30.2104 24.2256 27.9485 27.0743 25.3234 26.2457L15.3922 23.1106C14.7745 22.9156 14.1103 22.9257 13.4989 23.1395L4.58492 26.2563C1.96423 27.1727 -0.387986 24.344 0.990939 21.9344L12.1274 2.47383Z",fill:"#F2C300"})],-1),be=[Me],S=10,Se={__name:"MedalCompass",setup(e){const t=f(),o=new j,l=i(),_=i(),c=i({x:0,y:0,angle:0}),y=i("");V(()=>{h.on(m.TICK,E),h.on(m.RESIZE,w),w()}),H(()=>{h.off(m.TICK,E),h.off(m.RESIZE,w)});const w=()=>{const u=_.value.getBoundingClientRect();o.x=u.width,o.y=u.height},E=()=>{const u=O();if(l.value.classList.remove("visible"),!u)return;const{screenPosition:g}=u;y.value=u.medalType;const M=g.x*p.tools.viewport.width-o.x*.5,I=(1-g.y)*p.tools.viewport.height-o.y*.5,z=p.tools.viewport.width-S-o.x,D=p.tools.viewport.height-S-o.y;c.value.x=F(M,S,z),c.value.y=F(I,S,D);const U=c.value.x!==M||c.value.y!==I;l.value.classList.toggle("visible",U),c.value.angle=Math.PI+p.webgl.camera.getAngleTo(u.position.x,u.position.z)},O=()=>{const u=p.webgl.players.get(p.game.teams.get(t.playerCountry));return[...p.webgl.medals.values()].sort((g,M)=>g.position.distanceTo(u.position)-M.position.distanceTo(u.position)).filter(g=>!g.isInScreen)[0]};return(u,g)=>(a(),n("div",{ref_key:"compassEl",ref:l,class:L([y.value,"compass-wrapper"]),style:P({transform:`translate3d(${c.value.x}px, ${c.value.y}px, 0)`})},[s("div",{ref_key:"circleEl",ref:_,class:"compass-circle"},[r(k,{medal:y.value},null,8,["medal"])],512),s("div",{class:"pin-wrapper",style:P({transform:`rotate(${c.value.angle}rad)`})},be,4)],6))}};const Le=e=>($("data-v-b5a9aa48"),e=e(),C(),e),ke={class:"NewCollectMedal"},Ee={class:"NewCollectMedal_OtherCountry_Text"},Ie=Le(()=>s("h2",null,"Médaille Obtenue !",-1)),Ne={__name:"NewCollectMedal",setup(e){const t=f(),o=i(),l=i(),_=i("autre"),c=i("gold");return h.on(m.COLLECT_MEDAL,(y,w)=>{_.value=w.iso,w.iso===t.playerCountry?(o.value.classList.add("active"),o.value.addEventListener("click",()=>{o.value.classList.remove("active")})):(l.value.classList.add("active"),setTimeout(()=>{l.value.classList.remove("active")},3e3)),c.value=y.typeStr}),(y,w)=>(a(),n("div",ke,[s("div",{ref_key:"otherCountry",ref:l,class:"NewCollectMedal_OtherCountry"},[r(k,{medal:c.value},null,8,["medal"]),s("p",Ee,[T(" Medaille collectée par l'equipe "),s("b",null,x(_.value),1)])],512),s("div",{ref_key:"myCountry",ref:o,class:"NewCollectMedal_MyCountry"},[Ie,s("p",null,[T(" Félicitations équipe "),s("b",null,x(_.value),1)]),r(k,{medal:c.value},null,8,["medal"])],512)]))}},Ae=v(Ne,[["__scopeId","data-v-b5a9aa48"]]),Z="/assets/images/Medals.png";const Fe=e=>($("data-v-66b10ad9"),e=e(),C(),e),Pe=Fe(()=>s("div",{class:"NewMedal_Container"},[s("img",{src:Z,alt:"",srcset:""}),s("p",{class:"NewMedal_Container_Text"},"Nouvelles Médailles APPARUES !")],-1)),Ve=[Pe],Ge={__name:"NewMedal",setup(e){const t=i();return h.on(m.SPAWN_MEDALS,()=>{t.value.classList.add("active"),setTimeout(()=>{t.value.classList.remove("active")},3e3)}),(o,l)=>(a(),n("div",{ref_key:"newMedal",ref:t,class:"NewMedal"},Ve,512))}},Be=v(Ge,[["__scopeId","data-v-66b10ad9"]]);const Ze={class:"NewTeam_Container"},Re={class:"NewTeam_Container_Text"},Oe={__name:"NewTeam",setup(e){const t=i(),o=i("ALL");return h.on(m.CREATE_TEAM,l=>{o.value=l.iso,t.value.classList.add("active"),setTimeout(()=>{t.value.classList.remove("active")},3e3)}),(l,_)=>(a(),n("div",{ref_key:"newTeam",ref:t,class:"NewTeam"},[s("div",Ze,[s("p",Re,"Nouvelle équipe "+x(o.value)+" !",1)])],512))}},ze=v(Oe,[["__scopeId","data-v-8cfe594b"]]);const R=e=>($("data-v-dccfa8c4"),e=e(),C(),e),De=R(()=>s("img",{src:Z,alt:"",srcset:""},null,-1)),Ue=R(()=>s("span",null,"en jeu :",-1)),qe={__name:"TheCounterMedals",setup(e){const t=f();return(o,l)=>(a(),n("div",null,[De,Ue,T(" "+x(d(t).medals.length),1)]))}},He=v(qe,[["__scopeId","data-v-dccfa8c4"]]),je={xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",fill:"none"},Ke=s("path",{fill:"#83837D",d:"M8.5 6.611A3.306 3.306 0 1 0 8.5 0a3.306 3.306 0 0 0 0 6.611ZM0 16.433V17h17v-.567c0-2.115 0-3.173-.412-3.981a3.778 3.778 0 0 0-1.65-1.651c-.81-.412-1.867-.412-3.982-.412H6.044c-2.115 0-3.173 0-3.981.412-.711.362-1.289.94-1.651 1.65C0 13.26 0 14.319 0 16.434Z"},null,-1),Ye=[Ke];function We(e,t){return a(),n("svg",je,Ye)}const Je={render:We};const Qe=e=>($("data-v-c06701ed"),e=e(),C(),e),Xe=Qe(()=>s("span",null,"en jeu :",-1)),es={__name:"TheCounterPlayers",setup(e){const t=f();return(o,l)=>(a(),n("div",null,[r(d(Je)),Xe,T(" "+x(d(t).playersCounter),1)]))}},ss=v(es,[["__scopeId","data-v-c06701ed"]]),ts={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},os=s("path",{fill:"#949488",d:"M15 19a2 2 0 0 1-1.85 1.995L13 21h-2a2 2 0 0 1-1.995-1.85L9 19h6ZM12 2a7 7 0 0 1 6.996 6.76L19 9v3.764l1.822 3.644a1.1 1.1 0 0 1-.869 1.586l-.115.006H4.162a1.1 1.1 0 0 1-1.03-1.487l.046-.105L5 12.764V9a7 7 0 0 1 7-7Z"},null,-1),as=[os];function cs(e,t){return a(),n("svg",ts,as)}const ns={render:cs};const ls={__name:"TheNotifications",setup(e){return(t,o)=>(a(),n("div",null,[r(d(ns))]))}},_s=v(ls,[["__scopeId","data-v-d4da95d7"]]);const rs={class:"ThePlayerTeam"},ds=["src"],is={__name:"ThePlayerTeam",setup(e){const t=f();return(o,l)=>(a(),n("div",rs,[s("img",{src:"/assets/images/flags/"+d(t).playerCountry+".png",alt:""},null,8,ds)]))}},us=v(is,[["__scopeId","data-v-db0db854"]]),ps="/assets/images/Gold.png";const vs=e=>($("data-v-8ff35d79"),e=e(),C(),e),hs={class:"Scoreboard"},ms=vs(()=>s("div",{class:"MainButton"},[s("img",{src:ps,alt:"",srcset:""})],-1)),ws={class:"Podium"},gs=["src"],fs={__name:"TheScoreboard",setup(e){const t=f();return(o,l)=>(a(),n("div",hs,[ms,s("div",ws,[(a(!0),n(G,null,B(d(t).scoreboard,(_,c)=>(a(),n("div",{key:_.name,class:L(["Podium-item",{none:c>2}])},[_.score?(a(),n("span",{key:0,class:L({gold:c==0,silver:c==1,bronze:c==2,none:c>2})},x(c+1),3)):K("",!0),s("img",{src:`/assets/images/flags/${_.name}.png`,alt:""},null,8,gs)],2))),128))])]))}},ys=v(fs,[["__scopeId","data-v-8ff35d79"]]);const xs={class:"Header"},$s={__name:"GameView",setup(e){const t=f(),o=i();return V(()=>{h.on(m.KEY_DOWN,l=>{l==="H"&&o.value.classList.toggle("sixty-debug-hidden")})}),(l,_)=>(a(),n("div",{ref_key:"game",ref:o,class:"game"},[r(us),s("div",xs,[r(He),r(ss),r(_s)]),r(ys),r(xe),(a(!0),n(G,null,B(d(t).medals,c=>(a(),Y(Se,{key:c.id}))),128)),r(Be),r(Ae),r(ze)],512))}},Ts=v($s,[["__scopeId","data-v-bf7b4878"]]);export{Ts as default};
